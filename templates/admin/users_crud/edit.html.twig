{% extends '/admin/base_admin.html.twig' %}


{% block title %}Admin utilisateurs
{% endblock %}

{% block body %}
	<div class="container">
		<a href="{{ path('app_admin') }}">
			<i class="fa-solid fa-arrow-left fa-xl"></i>
		</a>
	</div>
	<div class="m-3 form">
		{{form_start(form)}}
		{{ form_row(form.firstname) }}
		{{ form_row(form.lastname) }}
		{{ form_row(form.email) }}
		{{ form_row(form.telephone) }}
		{{form_rest(form)}}
		<div class="d-flex justify-content-between">
			<button class="btn btn-primary" type='submit'>Modifier</button>
			<a href="#" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal{{ user.id }}">
				<span class="d-none d-sm-inline">Supprimer le compte</span>
				<i class="fa-solid fa-trash d-sm-none"></i>
			</a>
		</div>

		{{form_end(form)}}
	</div>

	<div class="modal fade" id="confirmDeleteModal{{ user.id }}" tabindex="-1" aria-labelledby="confirmDeleteModalLabel{{ user.id }}" aria-hidden="true">
		<div class="modal-dialog modal-delete">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="confirmDeleteModalLabel{{ user.id }}">Confirmation de suppression</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					Êtes-vous sûr de vouloir supprimer cette utilisateur ?
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
					<form action="{{ path('app_admin_user_delete', {'id': user.id}) }}" method="post">
						<button type="submit" class="btn btn-danger">Confirmer la suppression</button>
					</form>
				</div>
			</div>
		</div>
	</div>

{% endblock %}
